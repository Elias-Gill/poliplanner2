{{ define "custom_head" }}
<head>
  <title>Calculadora - PoliPlanner</title>
</head>
{{ end }}

{{ define "content" }}
<main class="calc-root">
  <h1>Calculadora de Notas</h1>
  <article>
    <h2>A) Ya tengo mi promedio ponderado</h2>
    <p>
      Ingresa tu promedio ponderado (0–100) y obtén los puntajes mínimos del examen final para cada nota 2–5.
    </p>
    <form id="formPonderado" onsubmit="return false;">
      <div class="form-group">
        <label for="inputPonderado">Promedio ponderado (0–100)</label>
        <input type="number" id="inputPonderado" min="0" max="100" step="1" />
      </div>
      <button id="btnPonderado" type="button">Calcular</button>
    </form>
  </article>

  <article>
    <h2>B) Calcular promedio ponderado y examen</h2>
    <p>
      Introduce tus promedios y pesos (que sumen 100) para calcular tu promedio ponderado y los puntajes del examen.
    </p>
    <form id="formComponentes" onsubmit="return false;">
      <div class="flex-row">
        <div class="form-group">
          <label for="pesoParciales">Peso Parciales (%)</label>
          <input type="number" id="pesoParciales" min="0" max="100" value="0" />
          <label for="promParciales">Promedio Parciales (0–100)</label>
          <input type="number" id="promParciales" min="0" max="100" value="0" />
        </div>

        <div class="form-group">
          <label for="pesoTareas">Peso Tareas (%)</label>
          <input type="number" id="pesoTareas" min="0" max="100" value="0" />
          <label for="promTareas">Promedio Tareas (0–100)</label>
          <input type="number" id="promTareas" min="0" max="100" value="0" />
        </div>

        <div class="form-group">
          <label for="pesoLab">Peso Laboratorios (%)</label>
          <input type="number" id="pesoLab" min="0" max="100" value="0" />
          <label for="promLab">Promedio Lab. (0–100)</label>
          <input type="number" id="promLab" min="0" max="100" value="0" />
        </div>
      </div>
      <button id="btnComponentes" type="button">Calcular</button>
    </form>
  </article>

  <article id="resultados">
    <h2>Puntajes mínimos requeridos</h2>
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>Nota final</th>
            <th>Puntaje requerido</th>
          </tr>
        </thead>
        <tbody id="resultadoTabla"></tbody>
      </table>
    </div>
  </article>

  <section>
    Si quieres saber cómo se calculan las notas puedes visitar la guía de 
    <a href="/guides/calculo_notas">Cálculo de Notas</a>.
  </section>

  <script>
    /* tu JS intacto */
  </script>

  <style>
    .calc-root {
      max-width: 600px;
      margin: 2rem auto;
      padding: 1rem;
    }

    .calc-root h1 {
      text-align: center;
      margin-bottom: 2rem;
      letter-spacing: 0.1em;
      font-weight: 700;
    }

    .calc-root article {
      margin-bottom: 2rem;
      padding: 1rem 1.5rem;
      box-shadow: 0 0 8px rgb(0 0 0 / 0.1);
    }

    .calc-root article h2 {
      margin-bottom: 1rem;
      font-weight: 600;
      border-bottom: 2px solid var(--color-primary);
      padding-bottom: 0.25rem;
    }

    .calc-root p {
      margin-bottom: 1rem;
      color: var(--color-muted);
      font-size: 0.95rem;
    }

    .calc-root .form-group {
      margin-bottom: 1.2rem;
      display: flex;
      flex-direction: column;
    }

    .calc-root .form-group label {
      margin-bottom: 0.3rem;
      font-weight: 500;
    }

    .calc-root .form-group input[type="number"] {
      padding: 0.5rem 0.7rem;
      font-size: 1rem;
      border: 1px solid var(--color-border);
      transition: border-color 0.2s ease;
    }

    .calc-root .form-group input[type="number"]:focus {
      border-color: var(--color-primary);
      outline: none;
    }

    .calc-root .flex-row {
      display: flex;
      gap: 1.5rem;
      flex-wrap: wrap;
    }

    .calc-root .flex-row .form-group {
      flex: 1 1 30%;
      min-width: 150px;
    }

    .calc-root button {
      width: 100%;
      padding: 0.7rem;
      font-weight: 600;
      font-size: 1.05rem;
      margin-top: 0.5rem;
      background-color: var(--color-primary);
      color: white;
      border: none;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .calc-root button:hover {
      background-color: color-mix(in srgb, var(--color-primary), black 25%);
    }

    .calc-root .table-container {
      margin-top: 1rem;
      overflow-x: auto;
    }

    .calc-root section {
      text-align: center;
      font-size: 0.9rem;
      color: var(--color-muted);
      margin-top: 1.5rem;
    }

    .calc-root section a {
      color: var(--color-primary);
      text-decoration: none;
      font-weight: 600;
    }

    .calc-root section a:hover {
      text-decoration: underline;
    }
  </style>
</main>
{{ end }}
