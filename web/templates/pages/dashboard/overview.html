<div class="table-container">
  <table>
    <thead>
      <tr>
        <th></th>
        <th>Lunes</th>
        <th>Martes</th>
        <th>Miércoles</th>
        <th>Jueves</th>
        <th>Viernes</th>
        <th>Sábado</th>
      </tr>
    </thead>
    <tbody>
      {{ range .Subjects }}
      <tr>
        <td>{{ .SubjectName }}</td>
        <!-- Lunes -->
        {{ if and .Monday.Valid (ne .Monday.String "") }}
        <td>
          <span><small>{{ .Monday.String }}</span></small><br>
          {{ if and .MondayRoom.Valid (ne .MondayRoom.String "") }}
          <span><small>Aula: {{ .MondayRoom.String }}</span></small>
          {{ end }}
        </td>
        {{ else }}
        <td></td>
        {{ end }}
        <!-- Martes -->
        {{ if and .Tuesday.Valid (ne .Tuesday.String "") }}
        <td>
          <span><small>{{ .Tuesday.String }}</span></small><br>
          {{ if and .TuesdayRoom.Valid (ne .TuesdayRoom.String "") }}
          <span><small>Aula: {{ .TuesdayRoom.String }}</span></small>
          {{ end }}
        </td>
        {{ else }}
        <td></td>
        {{ end }}
        <!-- Miércoles -->
        {{ if and .Wednesday.Valid (ne .Wednesday.String "") }}
        <td>
          <span><small>{{ .Wednesday.String }}</span></small><br>
          {{ if and .WednesdayRoom.Valid (ne .WednesdayRoom.String "") }}
          <span><small>Aula: {{ .WednesdayRoom.String }}</span></small>
          {{ end }}
        </td>
        {{ else }}
        <td></td>
        {{ end }}
        <!-- Jueves -->
        {{ if and .Thursday.Valid (ne .Thursday.String "") }}
        <td>
          <span><small>{{ .Thursday.String }}</span></small><br>
          {{ if and .ThursdayRoom.Valid (ne .ThursdayRoom.String "") }}
          <span><small>Aula: {{ .ThursdayRoom.String }}</span></small>
          {{ end }}
        </td>
        {{ else }}
        <td></td>
        {{ end }}
        <!-- Viernes -->
        {{ if and .Friday.Valid (ne .Friday.String "") }}
        <td>
          <span><small>{{ .Friday.String }}</span></small><br>
          {{ if and .FridayRoom.Valid (ne .FridayRoom.String "") }}
          <span><small>Aula: {{ .FridayRoom.String }}</span></small>
          {{ end }}
        </td>
        {{ else }}
        <td></td>
        {{ end }}
        <!-- Sábado -->
        {{ if and .Saturday.Valid (ne .Saturday.String "") }}
        <td>
          <span><small>{{ .Saturday.String }}</span></small><br>
          {{ if and .SaturdayDates.Valid (ne .SaturdayDates.String "") }}
          <span><small>Fechas: {{ .SaturdayDates.String }}</span></small>
          {{ end }}
        </td>
        {{ else }}
        <td></td>
        {{ end }}
      </tr>
      {{ end }}
    </tbody>
  </table>
</div>
<div class="exam-list">
  {{ if .Subjects }}
  <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
    <!-- Primer Parcial -->
    <div class="exam-section" style="flex: 1 1 45%;">
      <h3>Parcial I</h3>
      {{ range .Subjects }}
      {{ if .Partial1Date.Valid }}
      <article class="exam-item">
        <span class="exam-name">{{ .SubjectName }}</span>
        <span class="badge-container">
          <span class="date-badge">{{ .Partial1Date.Time.Format "02/01" }}</span>
          {{ if .Partial1Time.Valid }}
          <span class="time-badge">{{ .Partial1Time.String }}</span>
          {{ else }}
          <span class="time-badge">Hora pendiente</span>
          {{ end }}
        </span>
        {{ if .Partial1Room.Valid }}
        <div class="exam-aula">Aula: {{ .Partial1Room.String }}</div>
        {{ end }}
      </article>
      {{ end }}
      {{ end }}
    </div>
    <!-- Segundo Parcial -->
    <div class="exam-section" style="flex: 1 1 45%;">
      <h3>Parcial II</h3>
      {{ range .Subjects }}
      {{ if .Partial2Date.Valid }}
      <article class="exam-item">
        <span class="exam-name">{{ .SubjectName }}</span>
        <span class="badge-container">
          <span class="date-badge">{{ .Partial2Date.Time.Format "02/01" }}</span>
          {{ if .Partial2Time.Valid }}
          <span class="time-badge">{{ .Partial2Time.String }}</span>
          {{ else }}
          <span class="time-badge">Hora pendiente</span>
          {{ end }}
        </span>
        {{ if .Partial2Room.Valid }}
        <div class="exam-aula">Aula: {{ .Partial2Room.String }}</div>
        {{ end }}
      </article>
      {{ end }}
      {{ end }}
    </div>
  </div>
  <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
    <!-- Primer Final -->
    <div class="exam-section" style="flex: 1 1 45%;">
      <h3>Final I</h3>
      {{ range .Subjects }}
      {{ if .Final1Date.Valid }}
      <article class="exam-item">
        <span class="exam-name">{{ .SubjectName }}</span>
        <span class="badge-container">
          <span class="date-badge">{{ .Final1Date.Time.Format "02/01" }}</span>
          {{ if .Final1Time.Valid }}
          <span class="time-badge">{{ .Final1Time.String }}</span>
          {{ else }}
          <span class="time-badge">Hora pendiente</span>
          {{ end }}
        </span>
        {{ if .Final1Room.Valid }}
        <div class="exam-aula">Aula: {{ .Final1Room.String }}</div>
        {{ end }}
      </article>
      {{ end }}
      {{ end }}
    </div>
    <!-- Segundo Final -->
    <div class="exam-section" style="flex: 1 1 45%;">
      <h3>Final II</h3>
      {{ range .Subjects }}
      {{ if .Final2Date.Valid }}
      <article class="exam-item">
        <span class="exam-name">{{ .SubjectName }}</span>
        <span class="badge-container">
          <span class="date-badge">{{ .Final2Date.Time.Format "02/01" }}</span>
          {{ if .Final2Time.Valid }}
          <span class="time-badge">{{ .Final2Time.String }}</span>
          {{ else }}
          <span class="time-badge">Hora pendiente</span>
          {{ end }}
        </span>
        {{ if .Final2Room.Valid }}
        <div class="exam-aula">Aula: {{ .Final2Room.String }}</div>
        {{ end }}
      </article>
      {{ end }}
      {{ end }}
    </div>
  </div>
  {{ else }}
  <div class="no-exams">
    No hay exámenes programados
  </div>
  {{ end }}
</div>
